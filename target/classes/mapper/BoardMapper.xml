<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="world.festival.dao.BoardMapper">

<select id="boardPrintAll" parameterType="BoardVO" resultType="BoardVO">
	Select * from BUL_BOARD order by BUL_BOARDNUM desc
</select>

<insert id="BoardWrite" parameterType="BoardVO">
	INSERT INTO
		BUL_BOARD (BUL_BOARDNUM,userid,title,contents,country,adress,inputdate,originalFileName,savedFileName)
	VALUES (
		mainboard_seq.nextval,
		#{userid},
		#{title},
		#{contents},
		#{country},
		#{adress},
		sysdate
		<choose>
			<when test="originalFileName != null and savedFileName !=null">
			,#{originalFileName},#{savedFileName}
			</when>
			<otherwise>
			,null,null
			</otherwise>
		</choose>
	)
</insert>

<select id="readBoard" parameterType="String" resultType="BoardVO">
	Select * from BUL_BOARD where BUL_BOARDNUM = #{BUL_BOARDNUM}
</select>

<delete id="BoardDelete" parameterType="BoardVO">
delete from BUL_BOARD where BUL_BOARDNUM = #{BUL_BOARDNUM} and userid = #{userid}
</delete>

<select id="replyList" parameterType="ReplyVO" resultType="ReplyVO">
		select * from reply
		 where
		 mainboardnum=#{mainboardnum}
		  order by 
		  replynum desc
</select>
	
</mapper>