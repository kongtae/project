DROP SEQUENCE REPLY_SEQ;
DROP SEQUENCE MAINBOARD_SEQ;
DROP SEQUENCE WISHLIST_SEQ;
DROP SEQUENCE ADMIN_MAINBOARD_SEQ;
DROP SEQUENCE BUL_BOARDNUM_SEQ;

DROP TABLE ADMIN_MAINBOARD;
DROP TABLE ADMIN_BUL_BOARD;
DROP TABLE SEARCHFESTIVAL;
DROP TABLE WISHLIST;
DROP TABLE REPLY;
DROP TABLE BUL_BOARD;
DROP TABLE MAINBOARD;
DROP TABLE MEMBER;
DROP TABLE ADMINMEMBER;

CREATE SEQUENCE REPLY_SEQ;
CREATE SEQUENCE MAINBOARD_SEQ;
CREATE SEQUENCE WISHLIST_SEQ;
CREATE SEQUENCE ADMIN_MAINBOARD_SEQ;
CREATE SEQUENCE BUL_BOARDNUM_SEQ;

CREATE TABLE ADMINMEMBER (
    ADMINID VARCHAR2(20) PRIMARY KEY,
    ADMINPWD VARCHAR2(20),  
    EMAIL VARCHAR2(20)                  
);

insert into ADMINMEMBER 
    values('aa','aa','aaa@naver.com');

CREATE TABLE MEMBER(
   ADMINID VARCHAR2(20) CONSTRAINT MEMBER_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
   userid      VARCHAR2(20)   NOT NULL PRIMARY KEY,      --USERID
   userpwd       VARCHAR2(20)   NOT NULL,                  --USERPWD
   email       VARCHAR2(50)    NOT NULL,
    originalfilename VARCHAR2(200),
    savedfilename VARCHAR2(200)
);

CREATE TABLE MAINBOARD(
    ADMINID VARCHAR2(20) CONSTRAINT MAINBOARD_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
    MAINBOARDNUM NUMBER NOT NULL PRIMARY KEY,       --??? ?? ?
    TITLE VARCHAR2(1000) not null,  -- ??
    COUNTRY VARCHAR2(50),  --??
    ADRESS VARCHAR2(100),       --??
    FESTIVAL_INTRO VARCHAR2(1000),  --?? ?? (??)
    SURROUND_PLACE VARCHAR2(200),  --?? ?? ??
    INPUTTIME DATE DEFAULT SYSDATE,  --?? ??
    STARTEVENT DATE DEFAULT SYSDATE,   --??????
    ENDEVENT DATE DEFAULT SYSDATE,          --???????
    originalFileName VARCHAR(200),     -- ????????
    SAVEFILENAME VARCHAR(200),        -- ????? ??
    HASHTAG VARCHAR2(1000) DEFAULT '#축제,',
    CHECKSEARCH NUMBER DEFAULT 0
);

CREATE TABLE BUL_BOARD(
     ADMINID VARCHAR2(20) CONSTRAINT BULLETIN_BOARD_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
      USERID VARCHAR2(20)   CONSTRAINT  BUL_BOARD_USERID_FK REFERENCES MEMBER(userid) ON DELETE CASCADE,    --?????
     BUL_BOARDNUM  NUMBER PRIMARY KEY,               
     TITLE VARCHAR2(20) NOT NULL,                       
     HIT NUMBER DEFAULT 0,                                     
     CONTENTS VARCHAR2(1000),
      COUNTRY VARCHAR2(50),
     SURROUND_PLACE VARCHAR2(200),
      ADRESS VARCHAR2(100), 
     ORIGINALFILENAME   VARCHAR2(200),                     
    savedfilename   VARCHAR2(200),                          
    INPUTDATE      DATE  DEFAULT SYSDATE               
);

CREATE TABLE REPLY(
    ADMINID VARCHAR2(20) CONSTRAINT REPLY_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
    replynum   NUMBER         PRIMARY KEY,    
   MAINBOARDNUM   NUMBER    CONSTRAINT REPLY_BOARDNUM_FK REFERENCES MAINBOARD(MAINBOARDNUM) ON DELETE CASCADE, --?? ?? ??? ??
   BUL_BOARDNUM   NUMBER      CONSTRAINT REPLY_BUL_BOARDNUM_FK REFERENCES BUL_BOARD(BUL_BOARDNUM) ON DELETE CASCADE,
   USERID      VARCHAR2(20)   NOT NULL CONSTRAINT REPLY_USERID_FK REFERENCES MEMBER(userid) ON DELETE CASCADE,    --?????  
   REPLYTEXT   VARCHAR2(1000)   NOT NULL,   
    ORIGINALFILENAME VARCHAR(200),   
    SAVEFILENAME VARCHAR(200),       
   INPUTDATE      DATE  DEFAULT SYSDATE   
);

CREATE TABLE WISHLIST(
    ADMINID VARCHAR2(20) CONSTRAINT WISHLIST_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
    WISHLIST_NUM NUMBER NOT NULL PRIMARY KEY,   
    MAINBOARDNUM NUMBER NOT NULL  CONSTRAINT WISHLIST_MAINBOARDNUM_FK REFERENCES MAINBOARD(MAINBOARDNUM) ON DELETE CASCADE,
    USERID VARCHAR2(20)	CONSTRAINT  WISHLIST_USERID_FK REFERENCES MEMBER(userid) ON DELETE CASCADE,
    inputtime DATE DEFAULT SYSDATE             
);

CREATE TABLE SEARCHFESTIVAL(
    IMAGE VARCHAR2(200),
    FESTIVALNAME VARCHAR2(100)
);
--??? ??? ???
CREATE TABLE ADMIN_MAINBOARD(
    ADMINID VARCHAR2(20) CONSTRAINT ADMIN_MAINBOARD_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
    ADMIN_MAINBOARDNUM NUMBER NOT NULL PRIMARY KEY,      
    MAINBOARDNUM NUMBER NOT NULL,       
    TITLE VARCHAR2(1000) not null,  
    COUNTRY VARCHAR2(20) NOT NULL,
    ADRESS VARCHAR2(100),     
    FESTIVAL_INTRO VARCHAR2(1000),  
    SURROUND_PLACE VARCHAR2(1000),  
    INPUTTIME DATE DEFAULT SYSDATE,  
    STARTEVENT DATE DEFAULT SYSDATE,   
    ENDEVENT DATE DEFAULT SYSDATE,     
    originalFileName VARCHAR(200),     
    SAVEFILENAME VARCHAR(200),        
    HASHTAG VARCHAR2(1000) DEFAULT '#축제,',
    DATACHECK VARCHAR2(100) NOT NULL         
);

CREATE TABLE ADMIN_BUL_BOARD(
     ADMINID VARCHAR2(20) CONSTRAINT ADMIN_BUL_BOARD_ADMINID_FK REFERENCES ADMINMEMBER(ADMINID) ON DELETE CASCADE,
     ADMIN_MAINBOARDNUM NUMBER NOT NULL PRIMARY KEY,       
     USERID VARCHAR2(20) NOT NULL,   
      BUL_BOARDNUM NUMBER NOT NULL,  
     TITLE VARCHAR2(20) NOT NULL, 
     CONTENTS VARCHAR2(1000),
      COUNTRY VARCHAR2(50),  
    ADRESS VARCHAR2(100),      
    INPUTDATE      DATE  DEFAULT SYSDATE,                    
    HIT NUMBER DEFAULT 0,                                            
    ORIGINALFILENAME   VARCHAR2(200),                     
    SAVEDFILENAME   VARCHAR2(200),                       
    DATACHECK VARCHAR2(100) NOT NULL                      
);




commit;

